{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/hooks/useDebounce.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nexport function useDebounce<T extends (...args: any[]) => void>(callback: T, delay: number) {\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    useEffect(() => {\n        // Cleanup the previous timeout on unmount\n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, []);\n\n    const debouncedCallback = (...args: Parameters<T>) => {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = setTimeout(() => {\n            callback(...args);\n        }, delay);\n    };\n\n    return debouncedCallback;\n}\n"],"names":["useEffect","useRef","useDebounce","callback","delay","$","_c","$i","Symbol","for","timeoutRef","t0","t1","useDebounce[useEffect()]","current","clearTimeout","t2","useDebounce[debouncedCallback]","t3","args","setTimeout","useDebounce[debouncedCallback > setTimeout()]","debouncedCallback"],"mappings":";;;;;AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;;;;AAElC,qBAAAE,QAAA,EAAAC,KAAA;;IAAA,MAAAC,CAAA,OAAAC,gLAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IACH,MAAAK,UAAA,OAAmBT,uKAAM,EAAwB,IAAI,CAAC;IAAC,IAAAU,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAE7CE,EAAA,GAAA,CAAA;YAAA,4BAAAE,CAAA,GAEC;oBACH,IAAIH,UAAU,CAAAI,OAAQ,EAAA;wBAClBC,YAAY,CAACL,UAAU,CAAAI,OAAQ,CAAC;oBAAA;gBACnC;SACJ,CAAA,CAAA,2BACJ;QAAEF,EAAA,GAAA,EAAE;QAAAP,CAAA,CAAA,EAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAPLL,8KAAS,EAACW,EAOT,EAAEC,EAAE,CAAC;IAAA,IAAAI,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAF,QAAA,IAAAE,CAAA,CAAA,EAAA,KAAAD,KAAA,EAAA;QAEoBY,EAAA,GAAA,CAAA;YAAA,kCAAAC,CAAA,GAAAC,EAAA;gBAAC,MAAAC,IAAA,GAAAD,EAAsB;gBAC7C,IAAIR,UAAU,CAAAI,OAAQ,EAAA;oBAClBC,YAAY,CAACL,UAAU,CAAAI,OAAQ,CAAC;gBAAA;gBAGpCJ,UAAU,CAAAI,OAAA,GAAWM,UAAU,CAAC;oBAAA,iDAAAC,CAAA;wBAC5BlB,QAAQ,IAAIgB,IAAI,CAAC;oBAAA;gBAAA,CAAA,CAAA,gDACpB,EAAEf,KAAK,CAFU;YAAA;SAAA,CAAA,CAAA,iCAGrB;QAAAC,CAAA,CAAA,EAAA,GAAAF,QAAA;QAAAE,CAAA,CAAA,EAAA,GAAAD,KAAA;QAAAC,CAAA,CAAA,EAAA,GAAAW,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAX,CAAA,CAAA,EAAA;IAAA;IARD,MAAAiB,iBAAA,GAA0BN,EAQzB;IAAC,OAEKM,iBAAiB;AAAA;GAtBrBpB","ignoreList":[]}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/HighlightEditor.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport type { Highlight } from '../../types/epub';\n\n// Reusing styles from ParallelReader is tricky if strict scoping, but for now we can use inline or a new module.\n// Let's create a minimal inline style set for speed/portability or use a new module if needed.\n// Given strict instructions, let's stick to inline for this small component or create a module.\n// Let's assume we want to match the \"annotationCard\" look.\n\ninterface HighlightEditorProps {\n    initialData?: Partial<Highlight>;\n    onSave: (data: Partial<Highlight>) => void;\n    onCancel: () => void;\n}\n\nconst COLORS = [\n    { name: 'Yellow', hex: '#ffeb3b' },\n    { name: 'Green', hex: '#a5d6a7' },\n    { name: 'Pink', hex: '#f48fb1' },\n    { name: 'Blue', hex: '#90caf9' },\n];\n\nexport default function HighlightEditor({ initialData = {}, onSave, onCancel }: HighlightEditorProps) {\n    const [color, setColor] = useState(initialData.color || '#ffeb3b');\n    const [style, setStyle] = useState<'highlight' | 'underline'>(initialData.style || 'highlight');\n    const [note, setNote] = useState(initialData.note || '');\n\n    const handleSave = () => {\n        onSave({\n            ...initialData,\n            color,\n            style,\n            note\n        });\n    };\n\n    return (\n        <div style={{\n            backgroundColor: '#fff',\n            border: '1px solid #e5e7eb',\n            borderRadius: '0.5rem',\n            padding: '1rem',\n            boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '1rem'\n        }}>\n            {/* Color Selection */}\n            <div>\n                <label style={{ display: 'block', fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Color</label>\n                <div style={{ display: 'flex', gap: '0.5rem' }}>\n                    {COLORS.map(c => (\n                        <button\n                            key={c.hex}\n                            onClick={() => setColor(c.hex)}\n                            style={{\n                                width: '24px',\n                                height: '24px',\n                                borderRadius: '50%',\n                                backgroundColor: c.hex,\n                                border: color === c.hex ? '2px solid #555' : '1px solid #ddd',\n                                cursor: 'pointer',\n                                padding: 0\n                            }}\n                            title={c.name}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {/* Style Selection */}\n            <div>\n                <label style={{ display: 'block', fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Style</label>\n                <div style={{ display: 'flex', gap: '0.5rem' }}>\n                    <button\n                        onClick={() => setStyle('highlight')}\n                        style={{\n                            padding: '0.25rem 0.5rem',\n                            fontSize: '0.875rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '0.25rem',\n                            backgroundColor: style === 'highlight' ? '#e5e7eb' : 'white',\n                            cursor: 'pointer'\n                        }}\n                    >\n                        Highlight\n                    </button>\n                    <button\n                        onClick={() => setStyle('underline')}\n                        style={{\n                            padding: '0.25rem 0.5rem',\n                            fontSize: '0.875rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '0.25rem',\n                            backgroundColor: style === 'underline' ? '#e5e7eb' : 'white',\n                            cursor: 'pointer'\n                        }}\n                    >\n                        Underline\n                    </button>\n                </div>\n            </div>\n\n            {/* Note Input */}\n            <div>\n                <label style={{ display: 'block', fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Note</label>\n                <textarea\n                    value={note}\n                    onChange={(e) => setNote(e.target.value)}\n                    placeholder=\"Add a note...\"\n                    style={{\n                        width: '100%',\n                        minHeight: '60px',\n                        padding: '0.5rem',\n                        border: '1px solid #d1d5db',\n                        borderRadius: '0.25rem',\n                        fontSize: '0.875rem',\n                        fontFamily: 'sans-serif'\n                    }}\n                />\n            </div>\n\n            {/* Actions */}\n            <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '0.5rem' }}>\n                <button\n                    onClick={onCancel}\n                    style={{\n                        padding: '0.5rem 1rem',\n                        fontSize: '0.875rem',\n                        border: '1px solid #d1d5db',\n                        borderRadius: '0.25rem',\n                        backgroundColor: 'white',\n                        cursor: 'pointer'\n                    }}\n                >\n                    Cancel\n                </button>\n                <button\n                    onClick={handleSave}\n                    style={{\n                        padding: '0.5rem 1rem',\n                        fontSize: '0.875rem',\n                        border: 'none',\n                        borderRadius: '0.25rem',\n                        backgroundColor: '#2563eb',\n                        color: 'white',\n                        cursor: 'pointer'\n                    }}\n                >\n                    Save\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":["React","useState","Highlight","HighlightEditorProps","initialData","Partial","onSave","data","onCancel","COLORS","name","hex","HighlightEditor","t0","$","_c","$i","Symbol","for","t1","t2","undefined","color","setColor","style","setStyle","note","setNote","t3","HighlightEditor[handleSave]","handleSave","t4","t5","t6","backgroundColor","border","borderRadius","padding","boxShadow","display","flexDirection","gap","fontSize","marginBottom","t7","map","c","HighlightEditor[COLORS.map() > <button>.onClick]","width","height","cursor","t8","t10","t11","t9","HighlightEditor[<button>.onClick]","t12","t13","t14","t15","t16","t17","t18","t19","e","target","value","t20","minHeight","fontFamily","t21","t22","justifyContent","t23","t24","t25","t26","t27","t28"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 549, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ParallelReader.module.scss [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"ParallelReader-module-scss-module__rbxfja__actions\",\n  \"active\": \"ParallelReader-module-scss-module__rbxfja__active\",\n  \"annotationCard\": \"ParallelReader-module-scss-module__rbxfja__annotationCard\",\n  \"buttonGroup\": \"ParallelReader-module-scss-module__rbxfja__buttonGroup\",\n  \"container\": \"ParallelReader-module-scss-module__rbxfja__container\",\n  \"controls\": \"ParallelReader-module-scss-module__rbxfja__controls\",\n  \"delete\": \"ParallelReader-module-scss-module__rbxfja__delete\",\n  \"draftCard\": \"ParallelReader-module-scss-module__rbxfja__draftCard\",\n  \"edit\": \"ParallelReader-module-scss-module__rbxfja__edit\",\n  \"emptyState\": \"ParallelReader-module-scss-module__rbxfja__emptyState\",\n  \"footer\": \"ParallelReader-module-scss-module__rbxfja__footer\",\n  \"grid\": \"ParallelReader-module-scss-module__rbxfja__grid\",\n  \"header\": \"ParallelReader-module-scss-module__rbxfja__header\",\n  \"inactive\": \"ParallelReader-module-scss-module__rbxfja__inactive\",\n  \"inputWrapper\": \"ParallelReader-module-scss-module__rbxfja__inputWrapper\",\n  \"jump\": \"ParallelReader-module-scss-module__rbxfja__jump\",\n  \"panel\": \"ParallelReader-module-scss-module__rbxfja__panel\",\n  \"readerWrapper\": \"ParallelReader-module-scss-module__rbxfja__readerWrapper\",\n  \"sidebar\": \"ParallelReader-module-scss-module__rbxfja__sidebar\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/ParallelReader.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { ReactReader, ReactReaderStyle } from 'react-reader';\nimport { useDebounce } from '../hooks/useDebounce';\nimport HighlightEditor from './HighlightEditor';\nimport styles from './ParallelReader.module.scss';\nimport type { Rendition, Highlight } from '../../types/epub';\n\n// Define a type for the location (can be a string CFI or integer 0)\ntype LocationType = string | number;\n\ninterface ParallelReaderProps {\n    initialUrls: string[];\n    onBack?: () => void;\n}\n\nexport default function ParallelReader({ initialUrls, onBack }: ParallelReaderProps) {\n    // --- State ---\n    const [urls, setUrls] = useState<string[]>(initialUrls);\n    const [count, setCount] = useState(initialUrls.length || 2);\n    // NEW: We must track the location of each book individually\n    const [locations, setLocations] = useState<LocationType[]>(initialUrls.map(() => 0));\n\n    // Highlights State\n    const [highlights, setHighlights] = useState<Highlight[]>([]);\n    const [showHighlights, setShowHighlights] = useState(true);\n\n    // Editor State\n    // If set, we are creating a new highlight from this draft\n    const [draftHighlight, setDraftHighlight] = useState<Partial<Highlight> | null>(null);\n    // If set, we are editing this existing highlight ID\n    const [editingHighlightId, setEditingHighlightId] = useState<string | null>(null);\n\n    // Styling State\n    const [showSettings, setShowSettings] = useState(false);\n    const [settings, setSettings] = useState({\n        fontSize: 100, // percentage\n        fontFamily: 'Helvetica, sans-serif',\n        lineHeight: 1.6\n    });\n\n\n\n    const renditionRefs = useRef<(Rendition | null)[]>([]);\n    // Track rendered highlights per panel to prevent duplicates\n    // Key: `${panelIndex}-${highlightId}`\n    const renderedRef = useRef<Set<string>>(new Set());\n\n    // Persistence: Hydrate locations from localStorage on mount\n    useEffect(() => {\n        try {\n            const saved = localStorage.getItem('parallel-reader-progress');\n            if (saved) {\n                const progress = JSON.parse(saved);\n\n                // Update locations based on URLs\n                // We map over current *urls* state to ensure we align with what's visible\n                const restoredLocations = urls.map((url, i) => {\n                    // if we have a saved location for this URL, use it\n                    if (progress[url]) return progress[url];\n                    // otherwise keep existing (which might be 0 or already set)\n                    return locations[i];\n                });\n\n                // Only update if different to avoid unnecessary re-renders?\n                // Initial locations are 0.\n                setLocations(restoredLocations);\n            }\n        } catch (e) {\n            console.error(\"Failed to load progress\", e);\n        }\n    }, []); // Run once on mount (window object available)\n\n    // Persistence: Save Logic\n    const saveProgress = (bookUrl: string, loc: LocationType) => {\n        try {\n            const saved = localStorage.getItem('parallel-reader-progress');\n            const progress = saved ? JSON.parse(saved) : {};\n\n            progress[bookUrl] = loc;\n            localStorage.setItem('parallel-reader-progress', JSON.stringify(progress));\n        } catch (e) {\n            console.error(\"Failed to save progress\", e);\n        }\n    };\n\n    const debouncedSave = useDebounce(saveProgress, 1000);\n\n    // Load highlights on mount or when URLs change\n    useEffect(() => {\n        if (urls.length > 0) {\n            const searchParams = new URLSearchParams();\n            searchParams.set('urls', urls.join(','));\n\n            fetch(`/api/highlights?${searchParams.toString()}`)\n                .then(res => res.json())\n                .then(data => setHighlights(data))\n                .catch(err => console.error(\"Error loading highlights:\", err));\n        }\n    }, [urls]);\n\n    // Style Injection Helper\n    const applyStyles = (rendition: Rendition) => {\n        const styles: Record<string, any> = {\n            'body': {\n                'font-family': `${settings.fontFamily} !important`,\n                'font-size': `${settings.fontSize}% !important`,\n                'line-height': `${settings.lineHeight} !important`\n            },\n            'p': {\n                'font-family': `${settings.fontFamily} !important`,\n                'font-size': `${settings.fontSize}% !important`,\n                'line-height': `${settings.lineHeight} !important`\n            },\n            'div': { 'padding-bottom': '20px' },\n            '::selection': {\n                'background': 'rgba(255, 255, 0, 0.3)'\n            },\n        };\n\n        // Add dynamic highlight classes for each color\n        // Using hex codes as class suffixes to keep it simple: .hl-ffeb3b\n        // We support a few preset colors, but user might send any hex if we used a picker. \n        // For now, let's just support the ones we know or generated ones? \n        // Ideally we iterate known colors. Since we use specific hexes in Editor:\n        const COLORS = ['#ffeb3b', '#a5d6a7', '#f48fb1', '#90caf9'];\n        COLORS.forEach(color => {\n            // Remove # for class name\n            const cleanHex = color.replace('#', '');\n            styles[`.hl-${cleanHex}`] = {\n                'fill': `${color} !important`,\n                'fill-opacity': '0.3 !important',\n                'mix-blend-mode': 'multiply !important'\n            };\n            styles[`.ul-${cleanHex}`] = {\n                'fill': 'none !important',\n                'stroke': `${color} !important`,\n                'stroke-width': '2px !important',\n                'stroke-opacity': '0.8 !important',\n                'mix-blend-mode': 'normal !important'\n            };\n        });\n\n        // Default fallback\n        styles['.hl-default'] = {\n            'fill': 'yellow !important',\n            'fill-opacity': '0.3 !important',\n            'mix-blend-mode': 'multiply !important'\n        };\n\n        rendition.themes.default(styles);\n    };\n\n    // Update active renditions when settings change\n    useEffect(() => {\n        renditionRefs.current.forEach(rendition => {\n            if (rendition) {\n                applyStyles(rendition);\n            }\n        });\n    }, [settings]);\n\n    // --- Handlers ---\n\n    const getRendition = (index: number, rendition: Rendition) => {\n        renditionRefs.current[index] = rendition;\n\n        // Initial styles\n        applyStyles(rendition);\n\n        // CLEANUP: Since a new rendition is created, our `renderedRef` for this panel is stale.\n        // We must clear it so we can re-add the highlights.\n        const keysToRemove: string[] = [];\n        renderedRef.current.forEach(key => {\n            if (key.startsWith(`${index}-`)) keysToRemove.push(key);\n        });\n        keysToRemove.forEach(k => renderedRef.current.delete(k));\n\n        // INITIAL RENDER: Apply existing highlights for this book\n        const bookHighlights = highlights.filter(h => h.bookUrl === urls[index]);\n        bookHighlights.forEach(h => {\n            const type = h.style === 'underline' ? 'underline' : 'highlight';\n            const color = h.color || '#ffeb3b';\n            const cleanHex = color.replace('#', '');\n            const className = type === 'underline' ? `ul-${cleanHex}` : `hl-${cleanHex}`;\n\n            rendition.annotations.add(type, h.cfiRange, {}, null, className);\n            renderedRef.current.add(`${index}-${h.id}`);\n        });\n\n\n        // Listen for new selections\n        rendition.on('selected', (cfiRange: string, contents: any) => {\n            const range = rendition.getRange(cfiRange);\n            const text = range.toString();\n\n            // DRAFT MODE: Do not save yet.\n            // 1. Set draft state to trigger UI\n            setDraftHighlight({\n                cfiRange,\n                text,\n                bookUrl: urls[index],\n                created: Date.now()\n            });\n\n            // 2. Open sidebar if closed so user sees the editor\n            setShowHighlights(true);\n\n            // 3. Clear native selection to avoid confusion? \n            // Or keep it so they see what they selected? \n            // Better to keep it until they save or cancel, OR apply a temporary highlight.\n            // Let's apply a temporary \"draft\" highlight to visualize it.\n            // unique ID for draft is needed to remove it if cancelled.\n            // For now, let's just rely on the native selection blue glow or re-add it as substantial highlight immediately?\n            // If we add it as 'highlight', it will persist visually.\n            // Let's just let the native selection stick around.\n            // contents.window.getSelection()?.removeAllRanges(); // DONT do this yet\n        });\n    };\n\n    // Re-apply highlights if they change (Diffing approach)\n    useEffect(() => {\n        renditionRefs.current.forEach((rendition, index) => {\n            if (!rendition) return;\n\n            const url = urls[index];\n            const bookHighlights = highlights.filter(h => h.bookUrl === url);\n            const bookHighlightIds = new Set(bookHighlights.map(h => h.id));\n\n            // 1. Add new highlights\n            bookHighlights.forEach(h => {\n                const key = `${index}-${h.id}`;\n                if (!renderedRef.current.has(key)) {\n                    const type = h.style === 'underline' ? 'underline' : 'highlight';\n                    // Generate class name based on color\n                    const color = h.color || '#ffeb3b';\n                    const cleanHex = color.replace('#', '');\n                    // Use .ul- prefix for underline style if needed, OR just distinct classes. \n                    // epub.js 'underline' annotation usually adds a valid SVG/element. \n                    // 'highlight' uses fill.\n                    const className = type === 'underline' ? `ul-${cleanHex}` : `hl-${cleanHex}`;\n\n                    rendition.annotations.add(type, h.cfiRange, {}, null, className);\n                    renderedRef.current.add(key);\n                }\n            });\n\n            // 2. Remove deleted highlights\n            // We iterate effectively over all potentially rendered keys for this panel?\n            // Or simpler: iterate over the renderedRef and if it belongs to this panel AND is not in bookHighlightIds, remove it.\n            // This is slightly inefficient if we have thousands, but fine for now.\n            const keysToRemove: string[] = [];\n            renderedRef.current.forEach(key => {\n                const [pIdx, hId] = key.split('-');\n                if (parseInt(pIdx) === index) {\n                    if (!bookHighlightIds.has(hId)) {\n                        // Find the highlights to get the CFI?\n                        // Wait, we need the CFI to remove it! \n                        // epubjs rendition.annotations.remove(cfiRange, type)\n                        // If we don't have the feature in 'highlights', we might not know the CFI.\n                        // BUT: We usually deleted it via 'deleteHighlight' function which has access to it.\n\n                        // However, if we simply re-loaded or if updates came from elsewhere, we might have an issue.\n                        // For 'deleteHighlight' specifically, we handle removal there. \n                        // But to be purely reactive:\n                        // If we don't have the cfi, we can't remove via epubjs easily unless we stored it in the ref map (map<key, cfi>).\n\n                        keysToRemove.push(key);\n                    }\n                }\n            });\n\n            // Clean up the ref set for items we know are gone (e.g. removed via deleteHighlight)\n            keysToRemove.forEach(k => renderedRef.current.delete(k));\n\n        });\n    }, [highlights, urls]);\n\n\n    const handleLocationChange = (index: number, newLocation: LocationType) => {\n        // 1. Update the state for THIS book so it doesn't get \"stuck\"\n        const newLocations = [...locations];\n        newLocations[index] = newLocation;\n        setLocations(newLocations);\n\n        // 2. Persist\n        if (urls[index]) {\n            debouncedSave(urls[index], newLocation);\n        }\n    };\n\n    const updateUrl = (index: number, newUrl: string) => {\n        const newUrls = [...urls];\n        newUrls[index] = newUrl;\n        setUrls(newUrls);\n    };\n\n    const deleteHighlight = async (id: string, cfiRange: string, bookIndex: number) => {\n        // Optimistic update\n        setHighlights(prev => prev.filter(h => h.id !== id));\n\n        // Remove from rendition\n        const rendition = renditionRefs.current[bookIndex];\n        if (rendition) {\n            rendition.annotations.remove(cfiRange, 'highlight');\n            // Update ref\n            renderedRef.current.delete(`${bookIndex}-${id}`);\n        }\n\n        await fetch('/api/highlights', {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ id, bookUrl: urls[bookIndex] })\n        });\n    };\n\n    const saveHighlight = async (data: Partial<Highlight>) => {\n        // If it's a new highlight (no ID yet, usually), assign one.\n        const isNew = !data.id;\n        const highlightToSave: Highlight = {\n            id: data.id || Date.now().toString(),\n            cfiRange: data.cfiRange!,\n            text: data.text!,\n            bookUrl: data.bookUrl!,\n            created: data.created || Date.now(),\n            color: data.color,\n            style: data.style,\n            note: data.note\n        };\n\n        // Optimistic UI Update (or wait for server?)\n        // Let's wait for server to be safe, but local update is snappier.\n\n        if (isNew) {\n            setHighlights(prev => [...prev, highlightToSave]);\n        } else {\n            setHighlights(prev => prev.map(h => h.id === highlightToSave.id ? highlightToSave : h));\n        }\n\n        // Reset Modes\n        setDraftHighlight(null);\n        setEditingHighlightId(null);\n\n        // API Call\n        // Note: Our API is POST only right now, which appends. \n        // We need to support UPDATE or just overwrite logic on server?\n        // Current POST logic: read file -> push new.\n        // If we edit, we should probably implement PUT or Modify POST to support update.\n        // For MVP: Delete old + Add new? Or update API?\n        // Let's quick-patch POST to START FRESH? No.\n        // Best approach for now: if ID exists, we should update in the API. \n        // I will just use POST but I need to ensure the server handles \"updating\" or I use DELETE+POST.\n        // Let's assume standard behavior: efficient to just DELETE + POST for now on client side if ID exists?\n        // Actually, let's just do DELETE + POST for updates to save time on API refactor.\n\n        if (!isNew) {\n            await fetch('/api/highlights', {\n                method: 'DELETE',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ id: highlightToSave.id, bookUrl: highlightToSave.bookUrl })\n            });\n\n            // Explicitly remove old visual so the effect re-adds it with new style\n            const idx = urls.indexOf(highlightToSave.bookUrl);\n            if (idx !== -1 && renditionRefs.current[idx]) {\n                // We don't know the exact OLD type/class here easily without looking up the old object,\n                // but 'remove' only needs cfiRange and type. \n                // If type changed, we might fail to remove?\n                // epub.js remove: (cfiRange, type)\n                // Try removing both types to be safe\n                renditionRefs.current[idx]?.annotations.remove(highlightToSave.cfiRange, 'highlight');\n                renditionRefs.current[idx]?.annotations.remove(highlightToSave.cfiRange, 'underline');\n\n                renderedRef.current.delete(`${idx}-${highlightToSave.id}`);\n            }\n        }\n\n        await fetch('/api/highlights', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(highlightToSave)\n        });\n\n        // The Effect will handle adding the new one because we removed it from `renderedRef`.\n    };\n\n    const cancelDraft = () => {\n        setDraftHighlight(null);\n        // Clear selection\n        const idx = urls.indexOf(draftHighlight?.bookUrl || '');\n        if (idx !== -1) {\n            // We can't easily clear selection without access to 'contents' object from the event...\n            // But we can try window selection if we had access.\n            // The user can just click away.\n        }\n    };\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n                    {onBack && (\n                        <button\n                            onClick={onBack}\n                            className={styles.backButton}\n                            style={{\n                                background: 'none', border: 'none', cursor: 'pointer', fontSize: '1.2rem'\n                            }}\n                        >\n                            ← Back\n                        </button>\n                    )}\n                    <h1>Parallel Reader</h1>\n                </div>\n                <div className={styles.controls}>\n                    {/* Settings Toggle */}\n                    <button\n                        onClick={() => setShowSettings(!showSettings)}\n                        style={{ border: 'none', background: 'none', cursor: 'pointer', fontSize: '1.2rem', marginRight: '0.5rem' }}\n                        title=\"Display Settings\"\n                    >\n                        ⚙️\n                    </button>\n\n                    {/* Settings Panel */}\n                    {showSettings && (\n                        <div className={styles.settingsPanel}>\n                            <h3>Display Settings</h3>\n                            <div className={styles.settingGroup}>\n                                <div className={styles.rangeValue}>\n                                    <label>Font Size</label>\n                                    <span>{settings.fontSize}%</span>\n                                </div>\n                                <input\n                                    type=\"range\"\n                                    min=\"80\"\n                                    max=\"200\"\n                                    step=\"10\"\n                                    value={settings.fontSize}\n                                    onChange={(e) => setSettings({ ...settings, fontSize: Number(e.target.value) })}\n                                />\n                            </div>\n                            <div className={styles.settingGroup}>\n                                <label>Font Family</label>\n                                <select\n                                    value={settings.fontFamily}\n                                    onChange={(e) => setSettings({ ...settings, fontFamily: e.target.value })}\n                                >\n                                    <option value=\"Helvetica, sans-serif\">Helvetica</option>\n                                    <option value=\"Georgia, serif\">Georgia</option>\n                                    <option value=\"Courier New, monospace\">Monospace</option>\n                                </select>\n                            </div>\n                            <div className={styles.settingGroup}>\n                                <label>Line Height</label>\n                                <select\n                                    value={settings.lineHeight}\n                                    onChange={(e) => setSettings({ ...settings, lineHeight: Number(e.target.value) })}\n                                >\n                                    <option value={1.2}>Compact (1.2)</option>\n                                    <option value={1.6}>Normal (1.6)</option>\n                                    <option value={2.0}>Loose (2.0)</option>\n                                </select>\n                            </div>\n                        </div>\n                    )}\n\n                    <div className={styles.buttonGroup}>\n                        <button\n                            onClick={() => setShowHighlights(!showHighlights)}\n                            className={showHighlights ? styles.active : styles.inactive}\n                        >\n                            {showHighlights ? 'Hide Notes' : 'Show Notes'}\n                        </button>\n                    </div>\n\n                    <div className={styles.buttonGroup}>\n                        {[1, 2, 3].map(num => (\n                            <button\n                                key={num}\n                                onClick={() => setCount(num)}\n                                className={count === num ? styles.active : styles.inactive}\n                            >\n                                {num} Panel{num > 1 && 's'}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <div style={{ display: 'flex', flex: 1, overflow: 'hidden' }}>\n                {/* Main Reader Grid */}\n                <div className={styles.grid} style={{ flex: showHighlights ? '0 0 75%' : '1' }}>\n                    {Array.from({ length: count }).map((_, index) => (\n                        <div\n                            key={index}\n                            className={styles.panel}\n                            style={{ maxWidth: `${100 / count}%` }}\n                        >\n                            <div className={styles.inputWrapper}>\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Paste EPUB URL here...\"\n                                    value={urls[index] || ''}\n                                    onChange={(e) => updateUrl(index, e.target.value)}\n                                />\n                            </div>\n\n                            <div className={styles.readerWrapper}>\n                                <ReactReader\n                                    url={urls[index]}\n\n                                    // REQUIRED PROP: Controls where the book is\n                                    location={locations[index] || 0}\n\n                                    // REQUIRED PROP: Updates the state when user scrolls\n                                    locationChanged={(loc) => handleLocationChange(index, loc)}\n\n                                    getRendition={(rendition) => getRendition(index, rendition)}\n                                    epubOptions={{\n                                        flow: \"scrolled\",\n                                        manager: \"continuous\",\n                                    }}\n                                    swipeable={false}\n                                    readerStyles={{\n                                        ...ReactReaderStyle,\n                                        arrow: {\n                                            ...ReactReaderStyle.arrow,\n                                            display: 'none',\n                                        }\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                {/* Highlights Sidebar */}\n                {showHighlights && (\n                    <div className={styles.sidebar}>\n                        <h2>Annotations</h2>\n\n                        {/* Draft Editor */}\n                        {draftHighlight && (\n                            <div className={styles.draftCard}>\n                                <h3>New Highlight</h3>\n                                <HighlightEditor\n                                    initialData={draftHighlight}\n                                    onSave={saveHighlight}\n                                    onCancel={cancelDraft}\n                                />\n                            </div>\n                        )}\n\n                        {highlights.length === 0 && !draftHighlight && <p className={styles.emptyState}>Select text to highlight.</p>}\n\n                        {highlights.map(h => (\n                            <div key={h.id} className={styles.annotationCard}>\n                                {editingHighlightId === h.id ? (\n                                    <HighlightEditor\n                                        initialData={h}\n                                        onSave={saveHighlight}\n                                        onCancel={() => setEditingHighlightId(null)}\n                                    />\n                                ) : (\n                                    <>\n                                        <div className={styles.cardHeader} style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n                                            <div style={{ width: 12, height: 12, borderRadius: '50%', backgroundColor: h.color || '#ffeb3b' }}></div>\n                                            <span style={{ fontSize: '0.75rem', color: '#666', textTransform: 'uppercase' }}>{h.style || 'highlight'}</span>\n                                        </div>\n                                        <p style={{ borderLeft: `3px solid ${h.color || '#ffeb3b'}`, paddingLeft: '0.5rem' }}>\"{h.text}\"</p>\n\n                                        {h.note && (\n                                            <div style={{ marginTop: '0.5rem', fontSize: '0.85rem', color: '#333', fontStyle: 'italic', backgroundColor: 'rgba(0,0,0,0.02)', padding: '0.5rem' }}>\n                                                {h.note}\n                                            </div>\n                                        )}\n\n                                        <div className={styles.footer}>\n                                            <span>\n                                                {/* Try to find which book this belongs to for display */}\n                                                {urls.findIndex(u => u === h.bookUrl) > -1 ? `Panel ${urls.findIndex(u => u === h.bookUrl) + 1}` : 'Other Book'}\n                                            </span>\n                                            <div className={styles.actions}>\n                                                <button\n                                                    className={styles.jump}\n                                                    onClick={() => {\n                                                        const idx = urls.indexOf(h.bookUrl);\n                                                        if (idx !== -1 && renditionRefs.current[idx]) {\n                                                            renditionRefs.current[idx]?.display(h.cfiRange);\n                                                        }\n                                                    }}\n                                                >\n                                                    Jump\n                                                </button>\n                                                <button\n                                                    className={styles.edit}\n                                                    onClick={() => setEditingHighlightId(h.id)}\n                                                    style={{ marginRight: '0.25rem' }}\n                                                >\n                                                    Edit\n                                                </button>\n                                                <button\n                                                    className={styles.delete}\n                                                    onClick={() => deleteHighlight(h.id, h.cfiRange, urls.indexOf(h.bookUrl))}\n                                                >\n                                                    Delete\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}"],"names":["React","useState","useRef","useEffect","ReactReader","ReactReaderStyle","useDebounce","HighlightEditor","styles","Rendition","Highlight","LocationType","ParallelReaderProps","initialUrls","onBack","ParallelReader","urls","setUrls","count","setCount","length","locations","setLocations","map","highlights","setHighlights","showHighlights","setShowHighlights","draftHighlight","setDraftHighlight","Partial","editingHighlightId","setEditingHighlightId","showSettings","setShowSettings","settings","setSettings","fontSize","fontFamily","lineHeight","renditionRefs","renderedRef","Set","saved","localStorage","getItem","progress","JSON","parse","restoredLocations","url","i","e","console","error","saveProgress","bookUrl","loc","setItem","stringify","debouncedSave","searchParams","URLSearchParams","set","join","fetch","toString","then","res","json","data","catch","err","applyStyles","rendition","Record","COLORS","forEach","color","cleanHex","replace","themes","default","current","getRendition","index","keysToRemove","key","startsWith","push","k","delete","bookHighlights","filter","h","type","style","className","annotations","add","cfiRange","id","on","contents","range","getRange","text","created","Date","now","bookHighlightIds","has","pIdx","hId","split","parseInt","handleLocationChange","newLocation","newLocations","updateUrl","newUrl","newUrls","deleteHighlight","bookIndex","prev","remove","method","headers","body","saveHighlight","isNew","highlightToSave","note","idx","indexOf","cancelDraft","container","header","display","alignItems","gap","backButton","background","border","cursor","controls","marginRight","settingsPanel","settingGroup","rangeValue","Number","target","value","buttonGroup","active","inactive","num","flex","overflow","grid","Array","from","_","panel","maxWidth","inputWrapper","readerWrapper","flow","manager","arrow","sidebar","draftCard","emptyState","annotationCard","cardHeader","marginBottom","width","height","borderRadius","backgroundColor","textTransform","borderLeft","paddingLeft","marginTop","fontStyle","padding","footer","findIndex","u","actions","jump","edit"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1565, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/Bookshelf.module.scss [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"arrow\": \"Bookshelf-module-scss-module__3Di2QW__arrow\",\n  \"bookCount\": \"Bookshelf-module-scss-module__3Di2QW__bookCount\",\n  \"card\": \"Bookshelf-module-scss-module__3Di2QW__card\",\n  \"cardContent\": \"Bookshelf-module-scss-module__3Di2QW__cardContent\",\n  \"collectionName\": \"Bookshelf-module-scss-module__3Di2QW__collectionName\",\n  \"container\": \"Bookshelf-module-scss-module__3Di2QW__container\",\n  \"emptyState\": \"Bookshelf-module-scss-module__3Di2QW__emptyState\",\n  \"list\": \"Bookshelf-module-scss-module__3Di2QW__list\",\n  \"loading\": \"Bookshelf-module-scss-module__3Di2QW__loading\",\n  \"subtitle\": \"Bookshelf-module-scss-module__3Di2QW__subtitle\",\n  \"title\": \"Bookshelf-module-scss-module__3Di2QW__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1582, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/Bookshelf.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport type { BookCollection } from '../../types/epub';\nimport styles from './Bookshelf.module.scss';\n\ninterface BookshelfProps {\n    onSelectCollection: (files: string[]) => void;\n}\n\nexport default function Bookshelf({ onSelectCollection }: BookshelfProps) {\n    const [collections, setCollections] = useState<BookCollection[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetch('/api/books')\n            .then((res) => res.json())\n            .then((data) => {\n                setCollections(data);\n                setLoading(false);\n            })\n            .catch((err) => {\n                console.error('Failed to load books:', err);\n                setLoading(false);\n            });\n    }, []);\n\n    if (loading) return <div className={styles.loading}>Loading library...</div>;\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.title}>My Collections</h1>\n\n            {collections.length === 0 ? (\n                <div className={styles.emptyState}>\n                    <p>No collections found in <code>public/books/</code>.</p>\n                    <p className={styles.subtitle}>Create a subfolder (e.g., <code>public/books/classics/</code>) and add EPUB files to start.</p>\n                </div>\n            ) : (\n                <div className={styles.list}>\n                    {collections.map((collection) => (\n                        <div\n                            key={collection.name}\n                            className={styles.card}\n                            onClick={() => onSelectCollection(collection.files)}\n                        >\n                            <div className={styles.cardContent}>\n                                <div>\n                                    <h3 className={styles.collectionName}>\n                                        {collection.name.replace(/-/g, ' ')}\n                                    </h3>\n                                    <p className={styles.bookCount}>\n                                        {collection.files.length} book{collection.files.length !== 1 && 's'}\n                                    </p>\n                                </div>\n                                <div className={styles.arrow}>\n                                    <span style={{ fontSize: '1.5rem' }}>→</span>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":["c","_c","React","useEffect","useState","BookCollection","styles","BookshelfProps","onSelectCollection","files","Bookshelf","t0","$","$i","Symbol","for","t1","collections","setCollections","loading","setLoading","t2","t3","Bookshelf[useEffect()]","fetch","then","_BookshelfUseEffectAnonymous","data","catch","err","console","error","t4","title","t5","container","length","emptyState","subtitle","list","map","collection","name","card","Bookshelf[collections.map() > <div>.onClick]","cardContent","collectionName","replace","bookCount","arrow","fontSize","res","json"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1822, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from \"react\";\nimport ParallelReader from \"./components/ParallelReader\";\nimport Bookshelf from \"./components/Bookshelf\";\n\nexport default function Home() {\n  const [selectedBooks, setSelectedBooks] = useState<string[] | null>(null);\n\n  return (\n    <main className=\"min-h-screen bg-gray-50\">\n      {selectedBooks ? (\n        <ParallelReader\n          initialUrls={selectedBooks}\n          onBack={() => setSelectedBooks(null)}\n        />\n      ) : (\n        <Bookshelf onSelectCollection={setSelectedBooks} />\n      )}\n    </main>\n  );\n}\n"],"names":["c","_c","React","useState","ParallelReader","Bookshelf","Home","$","$i","Symbol","for","selectedBooks","setSelectedBooks","t0","Home[<ParallelReader>.onBack]"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,SAAS,MAAM,wBAAwB;;;AAJ9C,YAAY;;;;;AAMG;;IAAA,MAAAE,CAAA,OAAAN,gLAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,CAAAI,aAAA,EAAAC,gBAAA,CAAA,OAA0CT,yKAAQ,EAAkB,IAAI,CAAC;IAAC,IAAAU,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAI,aAAA,EAAA;QAGxEE,EAAA,iBAAA,6LAAA,IASO;YATS,SAAyB,EAAzB,yBAAyB,CACtC;sBAAAF,aAAa,iBACZ,6LAAC,kJAAc;gBACAA,WAAa,CAAbA,CAAAA,aAAY,CAAC;gBAClB,MAA4B,CAA5B,CAAA;oBAAA,iCAAAG,CAAA,GAAMF,gBAAgB,CAAC,IAAI;gBAAC,CAAA,CAAA,gCAAD,CAAC,GAIvC;;;;;qCADC,6LAAC,6IAAS;gBAAqBA,kBAAgB,CAAhBA,CAAAA,gBAAe,CAAC,GACjD,CACF,EATA,IASO;;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAI,aAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,OATPM,EASO;AAAA;;KAbIP,KAAA","ignoreList":[]}}]
}