{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/hooks/useDebounce.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nexport function useDebounce<T extends (...args: any[]) => void>(callback: T, delay: number) {\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    useEffect(() => {\n        // Cleanup the previous timeout on unmount\n        return () => {\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, []);\n\n    const debouncedCallback = (...args: Parameters<T>) => {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = setTimeout(() => {\n            callback(...args);\n        }, delay);\n    };\n\n    return debouncedCallback;\n}\n"],"names":["useEffect","useRef","useDebounce","callback","delay","$","_c","$i","Symbol","for","timeoutRef","t0","t1","useDebounce[useEffect()]","current","clearTimeout","t2","useDebounce[debouncedCallback]","t3","args","setTimeout","useDebounce[debouncedCallback > setTimeout()]","debouncedCallback"],"mappings":";;;;;AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;;;;AAElC,qBAAAE,QAAA,EAAAC,KAAA;;IAAA,MAAAC,CAAA,OAAAC,gLAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IACH,MAAAK,UAAA,OAAmBT,uKAAM,EAAwB,IAAI,CAAC;IAAC,IAAAU,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAE7CE,EAAA,GAAA,CAAA;YAAA,4BAAAE,CAAA,GAEC;oBACH,IAAIH,UAAU,CAAAI,OAAQ,EAAA;wBAClBC,YAAY,CAACL,UAAU,CAAAI,OAAQ,CAAC;oBAAA;gBACnC;SACJ,CAAA,CAAA,2BACJ;QAAEF,EAAA,GAAA,EAAE;QAAAP,CAAA,CAAA,EAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAPLL,8KAAS,EAACW,EAOT,EAAEC,EAAE,CAAC;IAAA,IAAAI,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAF,QAAA,IAAAE,CAAA,CAAA,EAAA,KAAAD,KAAA,EAAA;QAEoBY,EAAA,GAAA,CAAA;YAAA,kCAAAC,CAAA,GAAAC,EAAA;gBAAC,MAAAC,IAAA,GAAAD,EAAsB;gBAC7C,IAAIR,UAAU,CAAAI,OAAQ,EAAA;oBAClBC,YAAY,CAACL,UAAU,CAAAI,OAAQ,CAAC;gBAAA;gBAGpCJ,UAAU,CAAAI,OAAA,GAAWM,UAAU,CAAC;oBAAA,iDAAAC,CAAA;wBAC5BlB,QAAQ,IAAIgB,IAAI,CAAC;oBAAA;gBAAA,CAAA,CAAA,gDACpB,EAAEf,KAAK,CAFU;YAAA;SAAA,CAAA,CAAA,iCAGrB;QAAAC,CAAA,CAAA,EAAA,GAAAF,QAAA;QAAAE,CAAA,CAAA,EAAA,GAAAD,KAAA;QAAAC,CAAA,CAAA,EAAA,GAAAW,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAX,CAAA,CAAA,EAAA;IAAA;IARD,MAAAiB,iBAAA,GAA0BN,EAQzB;IAAC,OAEKM,iBAAiB;AAAA;GAtBrBpB","ignoreList":[]}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ParallelReader.module.scss [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"ParallelReader-module-scss-module__rbxfja__actions\",\n  \"active\": \"ParallelReader-module-scss-module__rbxfja__active\",\n  \"annotationCard\": \"ParallelReader-module-scss-module__rbxfja__annotationCard\",\n  \"buttonGroup\": \"ParallelReader-module-scss-module__rbxfja__buttonGroup\",\n  \"container\": \"ParallelReader-module-scss-module__rbxfja__container\",\n  \"controls\": \"ParallelReader-module-scss-module__rbxfja__controls\",\n  \"delete\": \"ParallelReader-module-scss-module__rbxfja__delete\",\n  \"emptyState\": \"ParallelReader-module-scss-module__rbxfja__emptyState\",\n  \"footer\": \"ParallelReader-module-scss-module__rbxfja__footer\",\n  \"grid\": \"ParallelReader-module-scss-module__rbxfja__grid\",\n  \"header\": \"ParallelReader-module-scss-module__rbxfja__header\",\n  \"inactive\": \"ParallelReader-module-scss-module__rbxfja__inactive\",\n  \"inputWrapper\": \"ParallelReader-module-scss-module__rbxfja__inputWrapper\",\n  \"jump\": \"ParallelReader-module-scss-module__rbxfja__jump\",\n  \"panel\": \"ParallelReader-module-scss-module__rbxfja__panel\",\n  \"readerWrapper\": \"ParallelReader-module-scss-module__rbxfja__readerWrapper\",\n  \"sidebar\": \"ParallelReader-module-scss-module__rbxfja__sidebar\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/ParallelReader.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { ReactReader } from 'react-reader';\nimport { useDebounce } from '../hooks/useDebounce';\nimport styles from './ParallelReader.module.scss';\nimport type { Rendition, Highlight } from '../../types/epub';\n\n// Define a type for the location (can be a string CFI or integer 0)\ntype LocationType = string | number;\n\ninterface ParallelReaderProps {\n    initialUrls: string[];\n    onBack?: () => void;\n}\n\nexport default function ParallelReader({ initialUrls, onBack }: ParallelReaderProps) {\n    // --- State ---\n    const [urls, setUrls] = useState<string[]>(initialUrls);\n    const [count, setCount] = useState(initialUrls.length || 2);\n    // NEW: We must track the location of each book individually\n    const [locations, setLocations] = useState<LocationType[]>(initialUrls.map(() => 0));\n\n    // Highlights State\n    const [highlights, setHighlights] = useState<Highlight[]>([]);\n    const [showHighlights, setShowHighlights] = useState(true);\n\n    const renditionRefs = useRef<(Rendition | null)[]>([]);\n\n    // Persistence: Hydrate locations from localStorage on mount\n    useEffect(() => {\n        try {\n            const saved = localStorage.getItem('parallel-reader-progress');\n            if (saved) {\n                const progress = JSON.parse(saved);\n\n                // Update locations based on URLs\n                // We map over current *urls* state to ensure we align with what's visible\n                const restoredLocations = urls.map((url, i) => {\n                    // if we have a saved location for this URL, use it\n                    if (progress[url]) return progress[url];\n                    // otherwise keep existing (which might be 0 or already set)\n                    return locations[i];\n                });\n\n                // Only update if different to avoid unnecessary re-renders?\n                // Initial locations are 0.\n                setLocations(restoredLocations);\n            }\n        } catch (e) {\n            console.error(\"Failed to load progress\", e);\n        }\n    }, []); // Run once on mount (window object available)\n\n    // Persistence: Save Logic\n    const saveProgress = (bookUrl: string, loc: LocationType) => {\n        try {\n            const saved = localStorage.getItem('parallel-reader-progress');\n            const progress = saved ? JSON.parse(saved) : {};\n\n            progress[bookUrl] = loc;\n            localStorage.setItem('parallel-reader-progress', JSON.stringify(progress));\n        } catch (e) {\n            console.error(\"Failed to save progress\", e);\n        }\n    };\n\n    const debouncedSave = useDebounce(saveProgress, 1000);\n\n    // Load highlights on mount\n    useEffect(() => {\n        fetch('/api/highlights')\n            .then(res => res.json())\n            .then(data => setHighlights(data))\n            .catch(err => console.error(\"Error loading highlights:\", err));\n    }, []);\n\n    // --- Handlers ---\n\n    const getRendition = (index: number, rendition: Rendition) => {\n        renditionRefs.current[index] = rendition;\n\n        // Inject styles INSIDE the iframe (SASS cannot reach here)\n        rendition.themes.default({\n            'p': {\n                'font-family': 'Helvetica, sans-serif',\n                'font-size': '1.1rem',\n                'line-height': '1.6'\n            },\n            'div': { 'padding-bottom': '20px' },\n            '::selection': {\n                'background': 'rgba(255, 255, 0, 0.3)'\n            },\n            '.hl-class': {\n                'fill': 'yellow',\n                'fill-opacity': '0.3',\n                'mix-blend-mode': 'multiply'\n            }\n        });\n\n        // Apply existing highlights for this book\n        const bookHighlights = highlights.filter(h => h.bookUrl === urls[index]);\n        bookHighlights.forEach(h => {\n            rendition.annotations.add('highlight', h.cfiRange, {}, null, 'hl-class');\n        });\n\n\n        // Listen for new selections\n        rendition.on('selected', (cfiRange: string, contents: any) => {\n            const range = rendition.getRange(cfiRange);\n            const text = range.toString();\n\n            // Persist\n            const newHighlight: Highlight = {\n                id: Date.now().toString(),\n                cfiRange,\n                text,\n                bookUrl: urls[index],\n                color: '#ffeb3b',\n                created: Date.now()\n            };\n\n            fetch('/api/highlights', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(newHighlight)\n            }).then(res => res.json())\n                .then(() => {\n                    setHighlights(prev => [...prev, newHighlight]);\n                    rendition.annotations.add('highlight', cfiRange, {}, null, 'hl-class');\n                    // Clear selection to avoid visual clutter\n                    const selection = contents.window.getSelection();\n                    selection?.removeAllRanges();\n                });\n        });\n    };\n\n    // Re-apply highlights if they change (e.g. added from another panel or loaded)\n    useEffect(() => {\n        renditionRefs.current.forEach((rendition, index) => {\n            if (rendition) {\n                const bookHighlights = highlights.filter(h => h.bookUrl === urls[index]);\n                bookHighlights.forEach(h => {\n                    // Adding same annotation twice is usually safe or ignored by epubjs, \n                    // but ideally we check. For MVP, simply adding is okay.\n                    rendition.annotations.add('highlight', h.cfiRange, {}, null, 'hl-class');\n                });\n            }\n        });\n    }, [highlights, urls]);\n\n\n    const handleLocationChange = (index: number, newLocation: LocationType) => {\n        // 1. Update the state for THIS book so it doesn't get \"stuck\"\n        const newLocations = [...locations];\n        newLocations[index] = newLocation;\n        setLocations(newLocations);\n\n        // 2. Persist\n        if (urls[index]) {\n            debouncedSave(urls[index], newLocation);\n        }\n    };\n\n    const updateUrl = (index: number, newUrl: string) => {\n        const newUrls = [...urls];\n        newUrls[index] = newUrl;\n        setUrls(newUrls);\n    };\n\n    const deleteHighlight = async (id: string, cfiRange: string, bookIndex: number) => {\n        // Optimistic update\n        setHighlights(prev => prev.filter(h => h.id !== id));\n\n        // Remove from rendition\n        const rendition = renditionRefs.current[bookIndex];\n        if (rendition) {\n            rendition.annotations.remove(cfiRange, 'highlight');\n        }\n\n        await fetch('/api/highlights', {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ id })\n        });\n    };\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n                    {onBack && (\n                        <button\n                            onClick={onBack}\n                            className={styles.backButton}\n                            style={{\n                                background: 'none', border: 'none', cursor: 'pointer', fontSize: '1.2rem'\n                            }}\n                        >\n                            ← Back\n                        </button>\n                    )}\n                    <h1>Parallel Reader</h1>\n                </div>\n                <div className={styles.controls}>\n                    <div className={styles.buttonGroup}>\n                        <button\n                            onClick={() => setShowHighlights(!showHighlights)}\n                            className={showHighlights ? styles.active : styles.inactive}\n                        >\n                            {showHighlights ? 'Hide Notes' : 'Show Notes'}\n                        </button>\n                    </div>\n\n                    <div className={styles.buttonGroup}>\n                        {[1, 2, 3].map(num => (\n                            <button\n                                key={num}\n                                onClick={() => setCount(num)}\n                                className={count === num ? styles.active : styles.inactive}\n                            >\n                                {num} Panel{num > 1 && 's'}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <div style={{ display: 'flex', flex: 1, overflow: 'hidden' }}>\n                {/* Main Reader Grid */}\n                <div className={styles.grid} style={{ flex: showHighlights ? '0 0 75%' : '1' }}>\n                    {Array.from({ length: count }).map((_, index) => (\n                        <div\n                            key={index}\n                            className={styles.panel}\n                            style={{ maxWidth: `${100 / count}%` }}\n                        >\n                            <div className={styles.inputWrapper}>\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Paste EPUB URL here...\"\n                                    value={urls[index] || ''}\n                                    onChange={(e) => updateUrl(index, e.target.value)}\n                                />\n                            </div>\n\n                            <div className={styles.readerWrapper}>\n                                <ReactReader\n                                    url={urls[index]}\n\n                                    // REQUIRED PROP: Controls where the book is\n                                    location={locations[index] || 0}\n\n                                    // REQUIRED PROP: Updates the state when user scrolls\n                                    locationChanged={(loc) => handleLocationChange(index, loc)}\n\n                                    getRendition={(rendition) => getRendition(index, rendition)}\n                                    epubOptions={{\n                                        flow: \"scrolled\",\n                                        manager: \"continuous\",\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                {/* Highlights Sidebar */}\n                {showHighlights && (\n                    <div className={styles.sidebar}>\n                        <h2>Annotations</h2>\n                        {highlights.length === 0 && <p className={styles.emptyState}>Select text to highlight.</p>}\n\n                        {highlights.map(h => (\n                            <div key={h.id} className={styles.annotationCard}>\n                                <p>\"{h.text}\"</p>\n                                <div className={styles.footer}>\n                                    <span>\n                                        {/* Try to find which book this belongs to for display */}\n                                        {urls.findIndex(u => u === h.bookUrl) > -1 ? `Panel ${urls.findIndex(u => u === h.bookUrl) + 1}` : 'Other Book'}\n                                    </span>\n                                    <div className={styles.actions}>\n                                        <button\n                                            className={styles.jump}\n                                            onClick={() => {\n                                                const idx = urls.indexOf(h.bookUrl);\n                                                if (idx !== -1 && renditionRefs.current[idx]) {\n                                                    renditionRefs.current[idx]?.display(h.cfiRange);\n                                                }\n                                            }}\n                                        >\n                                            Jump\n                                        </button>\n                                        <button\n                                            className={styles.delete}\n                                            onClick={() => deleteHighlight(h.id, h.cfiRange, urls.indexOf(h.bookUrl))}\n                                        >\n                                            Delete\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}"],"names":["React","useState","useRef","useEffect","ReactReader","useDebounce","styles","Rendition","Highlight","LocationType","ParallelReaderProps","initialUrls","onBack","ParallelReader","urls","setUrls","count","setCount","length","locations","setLocations","map","highlights","setHighlights","showHighlights","setShowHighlights","renditionRefs","saved","localStorage","getItem","progress","JSON","parse","restoredLocations","url","i","e","console","error","saveProgress","bookUrl","loc","setItem","stringify","debouncedSave","fetch","then","res","json","data","catch","err","getRendition","index","rendition","current","themes","default","bookHighlights","filter","h","forEach","annotations","add","cfiRange","on","contents","range","getRange","text","toString","newHighlight","id","Date","now","color","created","method","headers","body","prev","selection","window","getSelection","removeAllRanges","handleLocationChange","newLocation","newLocations","updateUrl","newUrl","newUrls","deleteHighlight","bookIndex","remove","container","header","display","alignItems","gap","backButton","background","border","cursor","fontSize","controls","buttonGroup","active","inactive","num","flex","overflow","grid","Array","from","_","panel","maxWidth","inputWrapper","target","value","readerWrapper","flow","manager","sidebar","emptyState","annotationCard","footer","findIndex","u","actions","jump","idx","indexOf","delete"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/Bookshelf.module.scss [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"arrow\": \"Bookshelf-module-scss-module__3Di2QW__arrow\",\n  \"bookCount\": \"Bookshelf-module-scss-module__3Di2QW__bookCount\",\n  \"card\": \"Bookshelf-module-scss-module__3Di2QW__card\",\n  \"cardContent\": \"Bookshelf-module-scss-module__3Di2QW__cardContent\",\n  \"collectionName\": \"Bookshelf-module-scss-module__3Di2QW__collectionName\",\n  \"container\": \"Bookshelf-module-scss-module__3Di2QW__container\",\n  \"emptyState\": \"Bookshelf-module-scss-module__3Di2QW__emptyState\",\n  \"list\": \"Bookshelf-module-scss-module__3Di2QW__list\",\n  \"loading\": \"Bookshelf-module-scss-module__3Di2QW__loading\",\n  \"subtitle\": \"Bookshelf-module-scss-module__3Di2QW__subtitle\",\n  \"title\": \"Bookshelf-module-scss-module__3Di2QW__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/Bookshelf.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport type { BookCollection } from '../../types/epub';\nimport styles from './Bookshelf.module.scss';\n\ninterface BookshelfProps {\n    onSelectCollection: (files: string[]) => void;\n}\n\nexport default function Bookshelf({ onSelectCollection }: BookshelfProps) {\n    const [collections, setCollections] = useState<BookCollection[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetch('/api/books')\n            .then((res) => res.json())\n            .then((data) => {\n                setCollections(data);\n                setLoading(false);\n            })\n            .catch((err) => {\n                console.error('Failed to load books:', err);\n                setLoading(false);\n            });\n    }, []);\n\n    if (loading) return <div className={styles.loading}>Loading library...</div>;\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.title}>My Collections</h1>\n\n            {collections.length === 0 ? (\n                <div className={styles.emptyState}>\n                    <p>No collections found in <code>public/books/</code>.</p>\n                    <p className={styles.subtitle}>Create a subfolder (e.g., <code>public/books/classics/</code>) and add EPUB files to start.</p>\n                </div>\n            ) : (\n                <div className={styles.list}>\n                    {collections.map((collection) => (\n                        <div\n                            key={collection.name}\n                            className={styles.card}\n                            onClick={() => onSelectCollection(collection.files)}\n                        >\n                            <div className={styles.cardContent}>\n                                <div>\n                                    <h3 className={styles.collectionName}>\n                                        {collection.name.replace(/-/g, ' ')}\n                                    </h3>\n                                    <p className={styles.bookCount}>\n                                        {collection.files.length} book{collection.files.length !== 1 && 's'}\n                                    </p>\n                                </div>\n                                <div className={styles.arrow}>\n                                    <span style={{ fontSize: '1.5rem' }}>→</span>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":["c","_c","React","useEffect","useState","BookCollection","styles","BookshelfProps","onSelectCollection","files","Bookshelf","t0","$","$i","Symbol","for","t1","collections","setCollections","loading","setLoading","t2","t3","Bookshelf[useEffect()]","fetch","then","_BookshelfUseEffectAnonymous","data","catch","err","console","error","t4","title","t5","container","length","emptyState","subtitle","list","map","collection","name","card","Bookshelf[collections.map() > <div>.onClick]","cardContent","collectionName","replace","bookCount","arrow","fontSize","res","json"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from \"react\";\nimport ParallelReader from \"./components/ParallelReader\";\nimport Bookshelf from \"./components/Bookshelf\";\n\nexport default function Home() {\n  const [selectedBooks, setSelectedBooks] = useState<string[] | null>(null);\n\n  return (\n    <main className=\"min-h-screen bg-gray-50\">\n      {selectedBooks ? (\n        <ParallelReader\n          initialUrls={selectedBooks}\n          onBack={() => setSelectedBooks(null)}\n        />\n      ) : (\n        <Bookshelf onSelectCollection={setSelectedBooks} />\n      )}\n    </main>\n  );\n}\n"],"names":["c","_c","React","useState","ParallelReader","Bookshelf","Home","$","$i","Symbol","for","selectedBooks","setSelectedBooks","t0","Home[<ParallelReader>.onBack]"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,SAAS,MAAM,wBAAwB;;;AAJ9C,YAAY;;;;;AAMG;;IAAA,MAAAE,CAAA,OAAAN,gLAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,CAAAI,aAAA,EAAAC,gBAAA,CAAA,OAA0CT,yKAAQ,EAAkB,IAAI,CAAC;IAAC,IAAAU,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAI,aAAA,EAAA;QAGxEE,EAAA,iBAAA,6LAAA,IASO;YATS,SAAyB,EAAzB,yBAAyB,CACtC;sBAAAF,aAAa,iBACZ,6LAAC,kJAAc;gBACAA,WAAa,CAAbA,CAAAA,aAAY,CAAC;gBAClB,MAA4B,CAA5B,CAAA;oBAAA,iCAAAG,CAAA,GAAMF,gBAAgB,CAAC,IAAI;gBAAC,CAAA,CAAA,gCAAD,CAAC,GAIvC;;;;;qCADC,6LAAC,6IAAS;gBAAqBA,kBAAgB,CAAhBA,CAAAA,gBAAe,CAAC,GACjD,CACF,EATA,IASO;;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAI,aAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,OATPM,EASO;AAAA;;KAbIP,KAAA","ignoreList":[]}}]
}