{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/components/ParallelReader.module.scss [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"ParallelReader-module-scss-module__rbxfja__active\",\n  \"buttonGroup\": \"ParallelReader-module-scss-module__rbxfja__buttonGroup\",\n  \"container\": \"ParallelReader-module-scss-module__rbxfja__container\",\n  \"controls\": \"ParallelReader-module-scss-module__rbxfja__controls\",\n  \"grid\": \"ParallelReader-module-scss-module__rbxfja__grid\",\n  \"header\": \"ParallelReader-module-scss-module__rbxfja__header\",\n  \"inactive\": \"ParallelReader-module-scss-module__rbxfja__inactive\",\n  \"inputWrapper\": \"ParallelReader-module-scss-module__rbxfja__inputWrapper\",\n  \"panel\": \"ParallelReader-module-scss-module__rbxfja__panel\",\n  \"readerWrapper\": \"ParallelReader-module-scss-module__rbxfja__readerWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/ParallelReader.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef } from 'react';\nimport { ReactReader } from 'react-reader';\nimport styles from './ParallelReader.module.scss';\nimport type { Rendition } from '../../types/epub';\n\n// Define a type for the location (can be a string CFI or integer 0)\ntype LocationType = string | number;\n\ninterface ParallelReaderProps {\n    initialUrls: string[];\n    onBack?: () => void;\n}\n\nexport default function ParallelReader({ initialUrls, onBack }: ParallelReaderProps) {\n    // --- State ---\n    const [urls, setUrls] = useState<string[]>(initialUrls);\n    const [count, setCount] = useState(initialUrls.length || 2);\n    // NEW: We must track the location of each book individually\n    const [locations, setLocations] = useState<LocationType[]>(initialUrls.map(() => 0));\n\n    const renditionRefs = useRef<(Rendition | null)[]>([]);\n\n    // --- Handlers ---\n\n    const getRendition = (index: number, rendition: Rendition) => {\n        renditionRefs.current[index] = rendition;\n\n        // Inject styles INSIDE the iframe (SASS cannot reach here)\n        rendition.themes.default({\n            'p': {\n                'font-family': 'Helvetica, sans-serif',\n                'font-size': '1.1rem',\n                'line-height': '1.6'\n            },\n            'div': { 'padding-bottom': '20px' }\n        });\n    };\n\n    const handleLocationChange = (index: number, newLocation: LocationType) => {\n        // 1. Update the state for THIS book so it doesn't get \"stuck\"\n        const newLocations = [...locations];\n        newLocations[index] = newLocation;\n        setLocations(newLocations);\n    };\n\n    const updateUrl = (index: number, newUrl: string) => {\n        const newUrls = [...urls];\n        newUrls[index] = newUrl;\n        setUrls(newUrls);\n    };\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n                    {onBack && (\n                        <button\n                            onClick={onBack}\n                            className={styles.backButton}\n                            style={{\n                                background: 'none', border: 'none', cursor: 'pointer', fontSize: '1.2rem'\n                            }}\n                        >\n                            ← Back\n                        </button>\n                    )}\n                    <h1>Parallel Reader</h1>\n                </div>\n                <div className={styles.controls}>\n                    <div className={styles.buttonGroup}>\n                        {[1, 2, 3].map(num => (\n                            <button\n                                key={num}\n                                onClick={() => setCount(num)}\n                                className={count === num ? styles.active : styles.inactive}\n                            >\n                                {num} Panel{num > 1 && 's'}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <div className={styles.grid}>\n                {Array.from({ length: count }).map((_, index) => (\n                    <div\n                        key={index}\n                        className={styles.panel}\n                        style={{ maxWidth: `${100 / count}%` }}\n                    >\n                        <div className={styles.inputWrapper}>\n                            <input\n                                type=\"text\"\n                                placeholder=\"Paste EPUB URL here...\"\n                                value={urls[index] || ''}\n                                onChange={(e) => updateUrl(index, e.target.value)}\n                            />\n                        </div>\n\n                        <div className={styles.readerWrapper}>\n                            <ReactReader\n                                url={urls[index]}\n\n                                // REQUIRED PROP: Controls where the book is\n                                location={locations[index] || 0}\n\n                                // REQUIRED PROP: Updates the state when user scrolls\n                                locationChanged={(loc) => handleLocationChange(index, loc)}\n\n                                getRendition={(rendition) => getRendition(index, rendition)}\n                                epubOptions={{\n                                    flow: \"scrolled\",\n                                    manager: \"continuous\",\n                                }}\n                            />\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}"],"names":["c","_c","React","useState","useRef","ReactReader","styles","Rendition","LocationType","ParallelReaderProps","initialUrls","onBack","ParallelReader","t0","$","$i","Symbol","for","urls","setUrls","count","setCount","length","t1","map","_ParallelReaderInitialUrlsMap","locations","setLocations","t2","renditionRefs","t3","ParallelReader[getRendition]","index","rendition","current","themes","default","getRendition","t4","ParallelReader[handleLocationChange]","index_0","newLocation","newLocations","handleLocationChange","t5","ParallelReader[updateUrl]","index_1","newUrl","newUrls","updateUrl","t6","display","alignItems","gap","t7","backButton","background","border","cursor","fontSize","t8","t9","t10","t11","controls","buttonGroup","num","ParallelReader[(anonymous)() > <button>.onClick]","active","inactive","t12","header","t13","Array","from","t14","grid","ParallelReader[(anonymous)()]","_","index_2","panel","maxWidth","inputWrapper","e","target","value","readerWrapper","loc","rendition_0","flow","manager","t15","container"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,SAASC,WAAW,QAAQ,cAAc;AAC1C,OAAOC,MAAM,MAAM,8BAA8B;;;AAJjD,YAAY;;;;;AAeG,wBAAAO,EAAA;;IAAA,MAAAC,CAAA,OAAAb,gLAAA,EAAA;IAAA,IAAAa,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAwB,MAAA,EAAAJ,WAAA,EAAAC,MAAAA,EAAA,GAAAE,EAA4C;IAE/E,MAAA,CAAAK,IAAA,EAAAC,OAAA,CAAA,OAAwBhB,yKAAQ,EAAWO,WAAW,CAAC;IACvD,MAAA,CAAAU,KAAA,EAAAC,QAAA,CAAA,OAA0BlB,yKAAQ,EAACO,WAAW,CAAAY,MAAY,IAAvB,CAAuB,CAAC;IAAC,IAAAC,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAJ,WAAA,EAAA;QAEDa,EAAA,GAAAb,WAAW,CAAAc,GAAI,CAACC,6BAAO,CAAC;QAAAX,CAAA,CAAA,EAAA,GAAAJ,WAAA;QAAAI,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAnF,MAAA,CAAAY,SAAA,EAAAC,YAAA,CAAA,OAAkCxB,yKAAQ,EAAiBoB,EAAwB,CAAC;IAAC,IAAAK,EAAA;IAAA,IAAAd,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAElCW,EAAA,GAAA,EAAE;QAAAd,CAAA,CAAA,EAAA,GAAAc,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAd,CAAA,CAAA,EAAA;IAAA;IAArD,MAAAe,aAAA,OAAsBzB,uKAAM,EAAuBwB,EAAE,CAAC;IAAC,IAAAE,EAAA;IAAA,IAAAhB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIlCa,EAAA,GAAA,CAAA;YAAA,gCAAAC,CAAAC,KAAA,EAAAC,SAAA;gBACjBJ,aAAa,CAAAK,OAAQ,CAACF,KAAK,CAAA,GAAIC,SAAH;gBAG5BA,SAAS,CAAAE,MAAO,CAAAC,OAAQ,CAAC;oBAAA,KAChB;wBAAA,eACc,uBAAuB;wBAAA,aACzB,QAAQ;wBAAA,eACN;oBACnB,CAAC;oBAAA,OACM;wBAAA,kBAAoB;oBAAO;gBACtC,CAAC,CAAC;YAAA;SAAA,CAAA,CAAA,+BACL;QAAAtB,CAAA,CAAA,EAAA,GAAAgB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAhB,CAAA,CAAA,EAAA;IAAA;IAZD,MAAAuB,YAAA,GAAqBP,EAYpB;IAAC,IAAAQ,EAAA;IAAA,IAAAxB,CAAA,CAAA,EAAA,KAAAY,SAAA,EAAA;QAE2BY,EAAA,GAAA,CAAA;YAAA,wCAAAC,CAAAC,OAAA,EAAAC,WAAA;gBAEzB,MAAAC,YAAA,GAAqB;uBAAIhB,SAAS;iBAAC;gBACnCgB,YAAY,CAACV,OAAK,CAAA,GAAIS,WAAH;gBACnBd,YAAY,CAACe,YAAY,CAAC;YAAA;QAAA,EAAA,CAAA,uCAC7B;QAAA5B,CAAA,CAAA,EAAA,GAAAY,SAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAwB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAxB,CAAA,CAAA,EAAA;IAAA;IALD,MAAA6B,oBAAA,GAA6BL,EAK5B;IAAC,IAAAM,EAAA;IAAA,IAAA9B,CAAA,CAAA,EAAA,KAAAI,IAAA,EAAA;QAEgB0B,EAAA,GAAA,CAAA;YAAA,6BAAAC,CAAAC,OAAA,EAAAC,MAAA;gBACd,MAAAC,OAAA,GAAgB;uBAAI9B,IAAI;iBAAC;gBACzB8B,OAAO,CAAChB,OAAK,CAAA,GAAIe,MAAH;gBACd5B,OAAO,CAAC6B,OAAO,CAAC;YAAA;QAAA,EAAA,CAAA,4BACnB;QAAAlC,CAAA,CAAA,EAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA8B,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA9B,CAAA,CAAA,EAAA;IAAA;IAJD,MAAAmC,SAAA,GAAkBL,EAIjB;IAAC,IAAAM,EAAA;IAAA,IAAApC,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAKsBiC,EAAA,GAAA;YAAAC,OAAA,EAAW,MAAM;YAAAC,UAAA,EAAc,QAAQ;YAAAC,GAAA,EAAO;QAAO,CAAC;QAAAvC,CAAA,CAAA,EAAA,GAAAoC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAwC,EAAA;IAAA,IAAAxC,CAAA,CAAA,GAAA,KAAAH,MAAA,EAAA;QAC7D2C,EAAA,GAAA3C,MAUA,kBATG,6LAAA,MAQS;YAPIA,OAAM,CAANA,CAAAA,MAAK,CAAC;YACJ,SAAiB,CAAjB,CAAAL,8JAAM,CAAAiD,UAAU,CAAC;YACrB,KAEN,CAFM,CAAA;gBAAAC,UAAA,EACS,MAAM;gBAAAC,MAAA,EAAU,MAAM;gBAAAC,MAAA,EAAU,SAAS;gBAAAC,QAAA,EAAY;YACrE,EAAC;sBACJ,MAED,EARA,MAQS,CACZ;;;;;;QAAA7C,CAAA,CAAA,GAAA,GAAAH,MAAA;QAAAG,CAAA,CAAA,GAAA,GAAAwC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAxC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8C,EAAA;IAAA,IAAA9C,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACD2C,EAAA,iBAAA,6LAAA,EAAwB;sBAApB,eAAe,EAAnB,EAAwB;;;;;;QAAA9C,CAAA,CAAA,GAAA,GAAA8C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA9C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+C,EAAA;IAAA,IAAA/C,CAAA,CAAA,GAAA,KAAAwC,EAAA,EAAA;QAZ5BO,EAAA,iBAAA,6LAAA,GAaM;YAbM,KAAsD,CAAtD,CAAAX,EAAqD,CAAC,CAC7D;;gBAAAI,EAUD,CACA;gBAAAM,EAAuB,CAC3B,EAbA,GAaM;;;;;;;QAAA9C,CAAA,CAAA,GAAA,GAAAwC,EAAA;QAAAxC,CAAA,CAAA,GAAA,GAAA+C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA/C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgD,GAAA;IAAA,IAAAhD,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGG6C,GAAA,GAAA;YAAC,CAAC;YAAE,CAAC;YAAE,CAAC;SAAC;QAAAhD,CAAA,CAAA,GAAA,GAAAgD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiD,GAAA;IAAA,IAAAjD,CAAA,CAAA,GAAA,KAAAM,KAAA,EAAA;QAFlB2C,GAAA,iBAAA,6LAAA,GAYM;YAZU,SAAe,CAAf,CAAAzD,8JAAM,CAAA0D,QAAQ,CAAC;sBAC3B,2MAAA,GAUM;gBAVU,SAAkB,CAAlB,CAAA1D,8JAAM,CAAA2D,WAAW,CAAC,CAC7B;0BAAAH,GAAS,CAAAtC,GAAI,CAAC;oBAAA,iCAAA0C,GAAA,kBACX,6LAAA,MAMS,CALAA,GAAG,CAAHA;4BACI,OAAmB,CAAnB,CAAA;gCAAA,oDAAAC,CAAA,GAAM9C,QAAQ,CAAC6C,GAAG;4BAAC,CAAA,CAAA,mDAAD,CAAC;4BACjB,SAA+C,CAA/C,CAAA9C,KAAK,KAAK8C,GAAqC,GAA/B5D,8JAAM,CAAA8D,MAAyB,GAAf9D,8JAAM,CAAA+D,QAAQ,CAAC,CAEzDH;;gCAAAA,GAAE;gCAAE,MAAO;gCAAAA,GAAG,GAAG,CAAQ,IAAd,GAAa,CAC7B,EANA,MAMS;;2BALAA,GAAE,CAAC;;;;;gBAKH,CAAA,CAAA,gCACZ,EACL,EAVA,GAUM,CACV,EAZA,GAYM;;;;;;;;;;;QAAApD,CAAA,CAAA,GAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,GAAA,GAAAiD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwD,GAAA;IAAA,IAAAxD,CAAA,CAAA,GAAA,KAAAiD,GAAA,IAAAjD,CAAA,CAAA,GAAA,KAAA+C,EAAA,EAAA;QA3BVS,GAAA,iBAAA,6LAAA,GA4BM;YA5BU,SAAa,CAAb,CAAAhE,8JAAM,CAAAiE,MAAM,CAAC,CACzB;;gBAAAV,EAaK,CACL;gBAAAE,GAYK,CACT,EA5BA,GA4BM;;;;;;;QAAAjD,CAAA,CAAA,GAAA,GAAAiD,GAAA;QAAAjD,CAAA,CAAA,GAAA,GAAA+C,EAAA;QAAA/C,CAAA,CAAA,GAAA,GAAAwD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAxD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0D,GAAA;IAAA,IAAA1D,CAAA,CAAA,GAAA,KAAAM,KAAA,EAAA;QAGDoD,GAAA,GAAAC,KAAK,CAAAC,IAAK,CAAC;YAAApD,MAAA,EAAUF;QAAM,CAAC,CAAC;QAAAN,CAAA,CAAA,GAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,GAAA,GAAA0D,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1D,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6D,GAAA;IAAA,IAAA7D,CAAA,CAAA,GAAA,KAAAM,KAAA,IAAAN,CAAA,CAAA,GAAA,KAAA6B,oBAAA,IAAA7B,CAAA,CAAA,GAAA,KAAAY,SAAA,IAAAZ,CAAA,CAAA,GAAA,KAAA0D,GAAA,IAAA1D,CAAA,CAAA,GAAA,KAAAmC,SAAA,IAAAnC,CAAA,CAAA,GAAA,KAAAI,IAAA,EAAA;QADlCyD,GAAA,iBAAA,6LAAA,GAmCM;YAnCU,SAAW,CAAX,CAAArE,8JAAM,CAAAsE,IAAI,CAAC,CACtB;sBAAAJ,GAA6B,CAAAhD,GAAI,CAAC;gBAAA,iCAAAqD,CAAAC,CAAA,EAAAC,OAAA,iBAC/B,6LAAA,GA+BM,CA9BG/C,GAAK,CAALA;wBACM,SAAY,CAAZ,CAAA1B,8JAAM,CAAA0E,KAAK,CAAC;wBAChB,KAA+B,CAA/B,CAAA;4BAAAC,QAAA,EAAY,GAAG,GAAG,GAAG7D,KAAK,CAAA,CAAA,CAAA;wBAAI,EAAC;;0CAEtC,6LAAA,GAOM;gCAPU,SAAmB,CAAnB,CAAAd,8JAAM,CAAA4E,YAAY,CAAC;wDAC/B,6LAAA,KAKE;oCAJO,IAAM,EAAN,MAAM;oCACC,WAAwB,EAAxB,wBAAwB;oCAC7B,KAAiB,CAAjB,CAAAhE,IAAI,CAACc,OAAK,CAAO,IAAjB,EAAgB,CAAC;oCACd,QAAuC,CAAvC,CAAA;wCAAA,qDAAAmD,CAAA,GAAOlC,SAAS,CAACjB,OAAK,EAAEmD,CAAC,CAAAC,MAAO,CAAAC,KAAM;oCAAC,CAAA,CAAA,mDAAD,CAAC,GAEzD,EAPA,GAOM;;;;;;;;;;;0CAEN,6LAAA,GAgBM;gCAhBU,SAAoB,CAApB,CAAA/E,8JAAM,CAAAgF,aAAa,CAAC;wDAChC,6LAAC,kLAAW;oCACH,GAAW,CAAX,CAAApE,IAAI,CAACc,OAAK,CAAA,CAAC;oCAGN,QAAqB,CAArB,CAAAN,SAAS,CAACM,OAAK,CAAM,IAArB,CAAoB,CAAC;oCAGd,eAAyC,CAAzC,CAAA;wCAAA,kEAAAuD,GAAA,GAAS5C,oBAAoB,CAACX,OAAK,EAAEuD,GAAG;oCAAC,CAAA,CAAA,gEAAD,CAAC;oCAE5C,YAA6C,CAA7C,CAAA;wCAAA,8DAAAC,WAAA,IAAenD,YAAY,CAACL,OAAK,EAAEC,WAAS;oCAAC,CAAA,CAAA,6DAAD,CAAC;oCAC9C,WAGZ,CAHY,CAAA;wCAAAwD,IAAA,EACH,UAAU;wCAAAC,OAAA,EACP;oCACb,EAAC,GAET,EAhBA,GAgBM,CACV,EA/BA,GA+BM;;;;;;;;;;;;uBA9BG1D,OAAI,CAAC;;;;;YA8BR,CAAA,CAAA,gCACT,EACL,EAnCA,GAmCM;;;;;;QAAAlB,CAAA,CAAA,GAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,GAAA,GAAA6B,oBAAA;QAAA7B,CAAA,CAAA,GAAA,GAAAY,SAAA;QAAAZ,CAAA,CAAA,GAAA,GAAA0D,GAAA;QAAA1D,CAAA,CAAA,GAAA,GAAAmC,SAAA;QAAAnC,CAAA,CAAA,GAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,GAAA,GAAA6D,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7D,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6E,GAAA;IAAA,IAAA7E,CAAA,CAAA,GAAA,KAAAwD,GAAA,IAAAxD,CAAA,CAAA,GAAA,KAAA6D,GAAA,EAAA;QAlEVgB,GAAA,iBAAA,6LAAA,GAmEM;YAnEU,SAAgB,CAAhB,CAAArF,8JAAM,CAAAsF,SAAS,CAAC,CAC5B;;gBAAAtB,GA4BK,CAEL;gBAAAK,GAmCK,CACT,EAnEA,GAmEM;;;;;;;QAAA7D,CAAA,CAAA,GAAA,GAAAwD,GAAA;QAAAxD,CAAA,CAAA,GAAA,GAAA6D,GAAA;QAAA7D,CAAA,CAAA,GAAA,GAAA6E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7E,CAAA,CAAA,GAAA;IAAA;IAAA,OAnEN6E,GAmEM;AAAA;;KA1GC/E;AAAA,SAAAa,8BAAA;IAAA,OAKsE,CAAC;AAAA","ignoreList":[]}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/components/Bookshelf.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport type { BookCollection } from '../../types/epub';\n\ninterface BookshelfProps {\n    onSelectCollection: (files: string[]) => void;\n}\n\nexport default function Bookshelf({ onSelectCollection }: BookshelfProps) {\n    const [collections, setCollections] = useState<BookCollection[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetch('/api/books')\n            .then((res) => res.json())\n            .then((data) => {\n                setCollections(data);\n                setLoading(false);\n            })\n            .catch((err) => {\n                console.error('Failed to load books:', err);\n                setLoading(false);\n            });\n    }, []);\n\n    if (loading) return <div className={styles.loading}>Loading library...</div>;\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.title}>My Collections</h1>\n\n            {collections.length === 0 ? (\n                <div className={styles.emptyState}>\n                    <p>No collections found in <code>public/books/</code>.</p>\n                    <p className={styles.subtitle}>Create a subfolder (e.g., <code>public/books/classics/</code>) and add EPUB files to start.</p>\n                </div>\n            ) : (\n                <div className={styles.list}>\n                    {collections.map((collection) => (\n                        <div\n                            key={collection.name}\n                            className={styles.card}\n                            onClick={() => onSelectCollection(collection.files)}\n                        >\n                            <div className={styles.cardContent}>\n                                <div>\n                                    <h3 className={styles.collectionName}>\n                                        {collection.name.replace(/-/g, ' ')}\n                                    </h3>\n                                    <p className={styles.bookCount}>\n                                        {collection.files.length} book{collection.files.length !== 1 && 's'}\n                                    </p>\n                                </div>\n                                <div className={styles.arrow}>\n                                    <span style={{ fontSize: '1.5rem' }}>→</span>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":["c","_c","React","useEffect","useState","BookCollection","BookshelfProps","onSelectCollection","files","Bookshelf","t0","$","$i","Symbol","for","t1","collections","setCollections","loading","setLoading","t2","t3","Bookshelf[useEffect()]","fetch","then","_BookshelfUseEffectAnonymous","data","catch","err","console","error","t4","styles","title","t5","container","length","emptyState","subtitle","list","map","collection","name","card","Bookshelf[collections.map() > <div>.onClick]","cardContent","collectionName","replace","bookCount","arrow","fontSize","res","json"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":["file:///Users/mats/Code/react-parallel-reader/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from \"react\";\nimport ParallelReader from \"./components/ParallelReader\";\nimport Bookshelf from \"./components/Bookshelf\";\n\nexport default function Home() {\n  const [selectedBooks, setSelectedBooks] = useState<string[] | null>(null);\n\n  return (\n    <main className=\"min-h-screen bg-gray-50\">\n      {selectedBooks ? (\n        <ParallelReader\n          initialUrls={selectedBooks}\n          onBack={() => setSelectedBooks(null)}\n        />\n      ) : (\n        <Bookshelf onSelectCollection={setSelectedBooks} />\n      )}\n    </main>\n  );\n}\n"],"names":["c","_c","React","useState","ParallelReader","Bookshelf","Home","$","$i","Symbol","for","selectedBooks","setSelectedBooks","t0","Home[<ParallelReader>.onBack]"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,SAAS,MAAM,wBAAwB;;;AAJ9C,YAAY;;;;;AAMG;;IAAA,MAAAE,CAAA,OAAAN,gLAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,CAAAI,aAAA,EAAAC,gBAAA,CAAA,OAA0CT,yKAAQ,EAAkB,IAAI,CAAC;IAAC,IAAAU,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAI,aAAA,EAAA;QAGxEE,EAAA,iBAAA,6LAAA,IASO;YATS,SAAyB,EAAzB,yBAAyB,CACtC;sBAAAF,aAAa,iBACZ,6LAAC,kJAAc;gBACAA,WAAa,CAAbA,CAAAA,aAAY,CAAC;gBAClB,MAA4B,CAA5B,CAAA;oBAAA,iCAAAG,CAAA,GAAMF,gBAAgB,CAAC,IAAI;gBAAC,CAAA,CAAA,gCAAD,CAAC,GAIvC;;;;;qCADC,6LAAC,6IAAS;gBAAqBA,kBAAgB,CAAhBA,CAAAA,gBAAe,CAAC,GACjD,CACF,EATA,IASO;;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAI,aAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,OATPM,EASO;AAAA;;KAbIP,KAAA","ignoreList":[]}}]
}